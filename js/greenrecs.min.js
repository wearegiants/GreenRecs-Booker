!function(){function a(){days=Object.keys(events),cListUl=document.getElementById("scheduleList"),days.forEach(function(a){var d,e,f;e=c("li",{"class":"day"}),d=c("h3",{"class":"dayweek"},moment(a).format("dddd, MMM D")),f=b(events[a]),e.appendChild(d),e.appendChild(f),cListUl.appendChild(e)})}function b(a){var b=c("ul",{"class":"eventslist"});return a.forEach(function(a){eSlot=c("li",{"class":"event radio"+(a.opencount>0?" open":" closed")}),eSlotName=c("label",{"class":"btn btn-default btn-lg","for":a.date.format("MM-DD-H-m-s")+"ID"+a.id},a.eventName),a.opencount>0&&(inputRadio=c("input",{id:a.date.format("MM-DD-H-m-s")+"ID"+a.id,type:"radio",name:"data[apptdata]","class":"appointment-choice",value:a.id,autocomplete:"off",styles:{visibility:"hidden"}}),inputRadio.dataset.date=a.date.format("YYYY-MM-DD HH:mm"),inputHidden=c("input",{id:a.date.format("MM-DD-H-m-s")+"ID"+a.id,type:"hidden",name:"slotcount",value:a.opencount}),eSlotName.appendChild(inputRadio),eSlotName.appendChild(inputHidden)),b.dataset.toggle="buttons",eSlot.appendChild(eSlotName),b.appendChild(eSlot)}),b}function c(a,b,c){var d=document.createElement(a);return b&&d.setAttributes(b),c&&(d.innderText=d.textContent=c),d}function d(){function a(){e=0,g="medium"==f?2:"large"==f?3:1,animLimit=l/g-1,k.outerWidth(j/g)}function b(){a()}function c(){var a=-e*j;i.css("left",a)}var d=document.body.clientWidth,e=0,f=window.getComputedStyle(document.body,":after").getPropertyValue("content"),g=1,h=$(".c"),i=$(".c-list"),j=h.outerWidth(),k=$(".c li.day"),l=k.size(),m=$(".c-nav .prev"),n=$(".c-nav .next");$(document).ready(function(){b()}),$(window).resize(function(){d=document.body.clientWidth,j=h.width(),f=window.getComputedStyle(document.body,":after").getPropertyValue("content"),a(),c()}),m.click(function(a){a.preventDefault(),e>0&&e--,c()}),n.click(function(a){a.preventDefault(),e<animLimit&&e++,c()}),$(".btn").on("click",function(){$(".btn.active").removeClass("active")}),$("input[type=radio]").on("change",function(){var a=$("input[type=radio]:checked").attr("data-date");$(".modal").modal("toggle"),$("#appointment-date-seed").text("You have selected "+moment(a).format("MMMM Do YYYY, h:mm a")+" as your appointment time. If this is correct please confirm the appointment below.")})}if(document.querySelectorAll("input#calLoad").length){var e=new XMLHttpRequest;e.open("GET","https://api.greenrecs.org/freeschedule",!0),e.onloadend=function(){if(e.status>=200&&e.status<400){var b=JSON.parse(e.responseText);Object.keys(b).forEach(function(a){b[a].forEach(function(a){a.id=parseInt(a.id),a.opencount=parseInt(a.slots_available),a.date=moment(a.availability_slot,"YYYY-MM-DD HH:mm"),a.eventName=a.date.format("h:mm A"),delete a.slots_available,delete a.availability_slot})}),window.events=b,a(),d()}else console.log(e.response)},e.send()}Element.prototype.setAttributes=function(a){for(var b in a)if("styles"!==b&&"style"!==b||"object"!=typeof a[b])"html"===b?this.innerHTML=a[b]:this.setAttribute(b,a[b]);else for(var c in a[b])this.style[c]=a[b][c]}}(this);
//# sourceMappingURL=greenrecs.min.js.map