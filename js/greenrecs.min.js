"no conflict";jQuery(document).ready(function(){}),docCookies={getItem:function(a){return decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(a).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null},setItem:function(a,b,c,d,e,f){if(!a||/^(?:expires|max\-age|path|domain|secure)$/i.test(a))return!1;var g="";if(c)switch(c.constructor){case Number:g=1/0===c?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":"; max-age="+c;break;case String:g="; expires="+c;break;case Date:g="; expires="+c.toUTCString()}return document.cookie=encodeURIComponent(a)+"="+encodeURIComponent(b)+g+(e?"; domain="+e:"")+(d?"; path="+d:"")+(f?"; secure":""),!0},removeItem:function(a,b,c){return a&&this.hasItem(a)?(document.cookie=encodeURIComponent(a)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(c?"; domain="+c:"")+(b?"; path="+b:""),!0):!1},hasItem:function(a){return new RegExp("(?:^|;\\s*)"+encodeURIComponent(a).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie)},keys:function(){for(var a=document.cookie.replace(/((?:^|\s*;)[^\=]+)(?=;|$)|^\s*|\s*(?:\=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:\=[^;]*)?;\s*/),b=0;b<a.length;b++)a[b]=decodeURIComponent(a[b]);return a}},jQuery(document).ready(function(a){function b(b){if(b.getAttribute("data-form-id"))var c=a("form#"+b.getAttribute("data-form-id"))[0];else var c=a("form")[0];return c}function c(b,c){return a.ajax({url:c,type:"POST",success:function(b){if(a(".ErrorMsg").removeClass("ErrorMsg"),a(".has-error").removeClass("has-error"),a("[data-error]").off("focus"),a("[data-error]").off("blur"),"errors"in b)for(var c=0,e=b.errors.length;e>c;c++){var f=b.errors[c];console.log(f),d(f.field,f.message)}0==b.status,"redirect"in b&&(window.location=b.redirect)},error:function(a){console.log(a)},data:b,cache:!1,contentType:!1,processData:!1},"json")}function d(b,c){var d=a('[data-error="data['+b+']"]'),e=a('label[for="data['+b+']"]');e.addClass("ErrorMsg"),d.parent().addClass("has-error"),d.on("focus",function(){d.parent().append('<span id="msgBubble">'+c+"</span>")}),d.on("blur",function(){a("#msgBubble").remove()})}a('input[type="submit"]').on("click",function(){event.preventDefault();var d=b(this),e=new FormData(d);if(d==a("form#cal_schedule")[0]){var f=a("#calendar").weekCalendar("serializeEvents");if(0==f.length)return console.log("hey buddy you're missing an appointment"),!1;mutableId=f[0].userId,f[0].doc_name=$schedule.userNames[mutableId];var g=a.param(f[0]);e.append("data[event]",g)}var h=d.getAttribute("action");c(e,h)})}),function(){function a(a,b){this.el=document.querySelector(a),this.events=b,this.current=moment().date(1),this.draw();var c=document.querySelector(".today");if(c){var d=this;window.setTimeout(function(){d.openDay(c)},500)}}function b(a,b){for(var c in b)a.setAttribute(c,b[c])}function c(a,b,c){var d=document.createElement(a);return b&&(d.className=b),c&&(d.innderText=d.textContent=c),d}function d(){var a=document.querySelectorAll('#calendar .event>input[type="radio"]');e();for(var b=0,c=a.length;c>b;b++)a[b].checked=!1,a[b].removeAttribute("checked"),a[b].parentNode.classList.contains("active")&&a[b].parentNode.classList.remove("active")}function e(){[].forEach.call(document.querySelectorAll("div.appointment.msg"),function(a){a&&a.parentNode.removeChild(a)})}var f=moment();a.prototype.draw=function(){this.drawHeader(),this.drawMonth()},a.prototype.drawHeader=function(){var a=this;if(!this.header){this.header=c("div","header"),this.header.className="header",this.title=c("h2","month-title");var b=c("div","right");b.addEventListener("click",function(){a.nextMonth()});var d=c("div","left");d.addEventListener("click",function(){a.prevMonth()}),this.header.appendChild(this.title),this.header.appendChild(b),this.header.appendChild(d),this.el.appendChild(this.header)}this.title.innerHTML=this.current.format("MMMM YYYY")},a.prototype.drawMonth=function(){var a=this;this.month?(this.oldMonth=this.month,this.oldMonth.className="month out "+(a.next?"next":"prev"),this.oldMonth.addEventListener("webkitAnimationEnd",function(){a.oldMonth.parentNode.removeChild(a.oldMonth),a.month=c("div","month"),a.backFill(),a.currentMonth(),a.fowardFill(),a.el.appendChild(a.month),window.setTimeout(function(){a.month.className="month in "+(a.next?"next":"prev")},16)})):(this.month=c("div","month"),this.el.appendChild(this.month),this.backFill(),this.currentMonth(),this.fowardFill(),this.month.className="month new")},a.prototype.backFill=function(){var a=this.current.clone(),b=a.day();if(b){a.subtract("days",b+1);for(var c=b;c>0;c--)this.drawDay(a.add("days",1))}},a.prototype.fowardFill=function(){var a=this.current.clone().add("months",1).subtract("days",1),b=a.day();if(6!==b)for(var c=b;6>c;c++)this.drawDay(a.add("days",1))},a.prototype.currentMonth=function(){for(var a=this.current.clone();a.month()===this.current.month();)this.drawDay(a),a.add("days",1)},a.prototype.getWeek=function(a){this.week&&0!==a.day()||(this.week=c("div","week"),this.month.appendChild(this.week))},a.prototype.drawDay=function(a){var b=this;this.getWeek(a);var d=c("div",this.getDayClass(a));d.addEventListener("click",function(){b.openDay(this)});var e=c("div","day-name",a.format("ddd")),f=c("div","day-number",a.format("DD"));d.appendChild(e),d.appendChild(f),this.week.appendChild(d)},a.prototype.getDayClass=function(a){return classes=["day"],a.month()!==this.current.month()?classes.push("other"):f.isSame(a,"day")&&classes.push("today"),todaysDate=moment(),todaysDate.diff(a,"day")>=1&&classes.push("expired"),classes.join(" ")},a.prototype.openDay=function(a){var b,d,e=+a.querySelectorAll(".day-number")[0].innerText||+a.querySelectorAll(".day-number")[0].textContent,f=this.current.clone().date(e),g=document.querySelector(".details");if(a.classList.contains("expired"))return!1;if(g&&g.parentNode===a.parentNode)b=g,d=document.querySelector(".arrow");else{g&&(g.addEventListener("webkitAnimationEnd",function(){g.parentNode.removeChild(g)}),g.addEventListener("oanimationend",function(){g.parentNode.removeChild(g)}),g.addEventListener("msAnimationEnd",function(){g.parentNode.removeChild(g)}),g.addEventListener("animationend",function(){g.parentNode.removeChild(g)}),g.className="details out"),b=c("div","details in");var d=c("div","arrow");b.appendChild(d),a.parentNode.appendChild(b)}var h=this.events.reduce(function(a,b){return b.date.isSame(f,"day")&&a.push(b),a},[]);this.renderEvents(h,b);var i=a.parentNode.children;i=[].slice.call(i);var j=i.indexOf(a);d.style.left=14.285*(j+1)-7.1425-.5+"%"},a.prototype.renderEvents=function(a,f){var g=f.querySelector(".events"),h=c("div","events in"+(g?" new":"")),k=[],l=6;for(i=0,j=a.length;i<j;i+=l){eventsChunk=a.slice(i,i+l);var m=c("div","col-md-3 panel panel-default"),n=c("div","panel-body btn-group-vertical");n.setAttribute("data-toggle","buttons"),eventsChunk.forEach(function(a){var d=c("label","event btn btn-default");b(d,{"iso-date":a.date.format(),id:a.id,"for":"data[apptdate]"});var e=c("input","");b(e,{type:"radio",autocomplete:"off",name:"data[apptdate]",value:a.id,"iso-date":a.date.format(),id:a.id});var f=c("span","",a.eventName),g=c("span","openslot label label-default",a.opencount+" slots left");d.appendChild(e),d.appendChild(f),d.appendChild(g),k.push(d),n.appendChild(d)}),m.appendChild(n),h.appendChild(m)}if(!a.length){var o=c("div","event empty"),p=c("span","noslot"," No Appointments Availible On This Day ");o.appendChild(p),h.appendChild(o)}bindClickButtons=function(){k.forEach(function(a){a.addEventListener("mousedown",function(){this.querySelectorAll("input").checked||(d(),this.classList.add("active"),this.querySelectorAll("input").checked=!0,b(this.querySelectorAll("input")[0],{checked:!0}));var a=this.querySelectorAll("input")[0].getAttribute("iso-date"),e=c("div","appointment msg col-md-12"," You have selected "+moment(a).format("dddd, MMMM Do YYYY [at] h:mm a")+" as your appointment time. "),f=c("button","btn btn-default clr-btn pull-right","Request This Time");b(f,{"data-form-id":"calendarform"}),e.appendChild(f),h.parentNode.insertBefore(e,h.parentNode.firstChild)})})},g?(g.className="events out",g.addEventListener("webkitAnimationEnd",function(){g.parentNode.removeChild(g),f.appendChild(h),e(),bindClickButtons()}),g.addEventListener("oanimationend",function(){g.parentNode.removeChild(g),f.appendChild(h),e(),bindClickButtons()}),g.addEventListener("msAnimationEnd",function(){g.parentNode.removeChild(g),f.appendChild(h),e(),bindClickButtons()}),g.addEventListener("animationend",function(){g.parentNode.removeChild(g),f.appendChild(h),e(),bindClickButtons()})):(f.appendChild(h),e(),bindClickButtons())},a.prototype.nextMonth=function(){this.current.add("months",1),this.next=!0,this.draw()},a.prototype.prevMonth=function(){this.current.subtract("months",1),this.next=!1,this.draw()},window.Calendar=a}(),function(){{var a=[{id:0,date:moment().hour(9),eventName:"9:00 AM",opencount:2},{id:1,date:moment().hour(10),eventName:"10:00 AM",opencount:3},{id:2,date:moment().hour(11),eventName:"11:00 AM",opencount:1},{id:3,date:moment().hour(12),eventName:"12:00 PM",opencount:5},{id:4,date:moment(),eventName:"1:00 PM",opencount:1},{id:5,date:moment(),eventName:"2:00 PM",opencount:4},{id:6,date:moment(),eventName:"3:00 PM",opencount:1},{id:7,date:moment(),eventName:"4:00 PM",opencount:6},{id:8,date:moment(),eventName:"5:00 PM",opencount:2},{id:9,date:moment(),eventName:"6:00 PM",opencount:2},{id:10,date:moment(),eventName:"7:00 PM",opencount:1},{id:11,date:moment(),eventName:"8:00 PM",opencount:3},{id:12,date:moment().add(1,"day").hour(9),eventName:"9:00 PM",opencount:1},{id:13,date:moment().add(1,"day").hour(10),eventName:"10:00 AM",opencount:3},{id:14,date:moment().add(1,"day").hour(11),eventName:"11:00 AM",opencount:2},{id:15,date:moment().add(1,"day").hour(12),eventName:"12:00 AM",opencount:4}];new Calendar("#calendar",a)}}();
//# sourceMappingURL=greenrecs.min.js.map